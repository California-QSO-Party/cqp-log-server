<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CQP Log Submission Form</title>
  <link rel="icon" href="favicon.ico" sizes="16x16 32x32 40x40 64x64 128x128" type="image/vnd.microsoft.icon">

  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
<!-- CSS to style the file input field as button and adjust the Bootstrap progress bars -->
  <link rel="stylesheet" href="css/jquery.fileupload.css">
  <link rel="stylesheet" href="css/cqp_style.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js" type="text/javascript"></script>
  <script src="js/vendor/jquery.ui.widget.js" type="text/javascript"></script>
  <script src="js/jquery.iframe-transport.js" type="text/javascript"></script>
  <script src="js/jquery.fileupload.js" type="text/javascript"></script>
  <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/jquery.validate.min.js" type="text/javascript"></script>
  <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/additional-methods.min.js" type="text/javascript"></script>
  <script src="js/jquery.countdown-2.2.0/jquery.countdown.min.js"></script>
</head>
<body>
<img  src="images/cqplogo80075.jpg" alt="California QSO Party" > 
<div id="countdownclock" class="countdown">
  Deadline for log submission is in <span id="clock"></span>
</div>
<div id="tabs" style="display: none">
  <ul>
    <li><a href="#tabs-1">Upload or drag-and-drop</a></li>
    <li><a href="#tabs-2">Traditional cut-and-paste</a></li>
  </ul>
  <div id="tabs-1">
    <div id="step-1">
      <p>Uploading a CQP Cabrillo file is as easy as 1, 2, 3.  Please complete all three steps to complete
	your contest entry. If the 3 step process does not work, try this 
	<a href="logsubmit-nojs.html">one step form</a>.</p>
      <h1>Step 1: Upload Cabrillo file</h1>
      <span class="btn btn-success fileinput-button">
        <i class="glyphicon glyphicon-plus"></i>
        <span>Drag and drop Cabrillo file here or click to upload...</span>
        <!-- The file input field used as target for the file upload widget -->
	<input id="fileupload" type="file" name="cabrillofile">
      </span>
      <br >
      <div id="progress" class="progress">
        <div class="progress-bar progress-bar-success"></div>
      </div>
    </div>
    <div id="step-2">
      <h1>Step 2: Review Cabrillo file</h1>
      <p>
We're tried to provide some feedback on your log in case there are
errors. If the number of Readable QSO lines is close to the Total QSO lines and
the number of Multiplier errors is low, you can probably ignore any 
warnings or error messages below. If the number of readable QSOs is low or the
number of multiplier errors is high, you may want to try to edit your log and
resubmit. Examples of the preferred QSO line syntax are available 
<a href="qso_syntax.html">here</a>. In any case, we will do our best to fairly score every log.</p>
<p>To upload again, use the "Clear &amp; Reload" button. Otherwise, move on to Step 3.</p>
      <div class="circle" id="circleId"></div>
      <div class="QSOSummCol">
        <table class="QSOSummary">
	  <caption class="QSOSumCap">Summary Statistics</caption>
	  <tr class="QSOSumLine"><th class="QSOSumHead">Total QSO lines:</th><td class="QSOSumData" id="maxQSOId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead">Readable QSOs:</th><td class="QSOSumData" id="validQSOId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead"># Errors:</th><td class="QSOSumData" id="numErrorsId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead"># Warnings:</th><td class="QSOSumData" id="numWarningsId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead">Multiplier errors:</th><td class="QSOSumData" id="numMultErrorsId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead">Multiplier aliases:</th><td class="QSOSumData" id="numMultAliasesId">&nbsp;</td></tr>
	</table>
	<input id="ReloadID" type="button" name="Reupload" class="cqpbutton" value="Clear &amp; Reupload">
      </div>
      <div class="QSOReport"><h2>Error &amp; Warnings</h2><div id="QSOErrorsID"></div></div>
      <div class="QSOReport"><h2>Multiplier Issues</h2><div id="MultErrorsID"></div></div>
      <div class="QCallReport"><h2>Irregular Callsigns</h2><div id="CallErrorsID"></div></div>
      <div class="clear"></div>
    </div>
    <div id="step-3">
      <h1>Step 3: Provide Supplemental information</h1>
      <form action="server/upload.fcgi" method="post" id="supplementalForm" accept-charset="UTF-8">
	<input type="hidden" name="logID" value="-1" id="logDBId" class="jForm">
	<input type="hidden" name="source" value="form1">
	<label for="callsignId" class="inLabel">Callsign*:</label>
	<input type="text" name="callsign" value="" id="callsignId" class="jForm"><br >
	<label for="emailId" class="inLabel">Email*:</label>
	<input type="email" name="email" id="emailId" class="jForm"><br>
	<label for="confirmId" class="inLabel">Confirm Email*:</label>
	<input type="email" name="confirm" id="confirmId" class="jForm"><br >
	<label for="phoneId" class="inLabel">Phone Number:</label>
	<input type="text" name="phone" id="phoneId" class="jForm"><br >
	<label for="sentQTHId" class="inLabel">Sent QTH:</label>
	<input type="text" name="sentQTH" id="sentQTHId" class="jForm"><br >
	<label for="opclassId" class="inLabel">Entry class:</label>
	<select name="opclass" id="opclassId" class="jForm">
	  <option value="single">Single-op</option>
	  <option value="single-assisted">Single-op-assisted</option>
	  <option value="multi-single">Multi-single</option>
	  <option value="multi-multi" selected="selected">Multi-multi</option>
	  <option value="checklog" >Checklog</option>
	</select>
	<select name="power" id="powerId" class="jForm">
	  <option value="Low">Low Power</option>
	  <option value="High" selected="selected">High Power</option>
	  <option value="QRP">QRP</option>
	</select>
	<span id="opmsgId" style="color: red"></span><br >
	<label for="clubnameId" class="inLabel">Club:</label>
	<select name="clubname" id="clubnameId" class="jForm">
	  <option value="NONE" selected="selected">&nbsp;</option>
	  <option value="OTHER">OTHER (enter name below)</option>
	  <option value="Amador County ARC">Amador County ARC</option>
	  <option value="Amateur Radio Association Of Central Cal">Amateur Radio Association Of Central Cal</option>
	  <option value="Amateur Radio Club Of Alameda">Amateur Radio Club Of Alameda</option>
	  <option value="Anaheim ARA">Anaheim ARA</option>
	  <option value="Anchor Bay ARC ">Anchor Bay ARC </option>
	  <option value="Antelope Valley ARC">Antelope Valley ARC</option>
	  <option value="Univ Of CA Santa Barbara ARC">Univ Of CA Santa Barbara ARC</option>
	  <option value="Amateur Radio Club Of El Cajon">Amateur Radio Club Of El Cajon</option>
	  <option value="Associated Radio Amateurs Of Long Beach">Associated Radio Amateurs Of Long Beach</option>
	  <option value="Baldwin Hills ARC ">Baldwin Hills ARC </option>
	  <option value="Barstow ARC">Barstow ARC</option>
	  <option value="Benicia ARC">Benicia ARC</option>
	  <option value="Big Bear ARC ">Big Bear ARC </option>
	  <option value="Bishop ARC ">Bishop ARC </option>
	  <option value="Calaveras ARS">Calaveras ARS</option>
	  <option value="Calexico ARS">Calexico ARS</option>
	  <option value="Calif State Polytechnic Univ">Calif State Polytechnic Univ</option>
	  <option value="Central California DX Club">Central California DX Club</option>
	  <option value="Central Valley Radio Club">Central Valley Radio Club</option>
	  <option value="Citrus Belt ARC ">Citrus Belt ARC </option>
	  <option value="Clovis Amateur Radio Pioneers">Clovis Amateur Radio Pioneers</option>
	  <option value="Coachella Valley ARC ">Coachella Valley ARC </option>
	  <option value="Crescenta Valley Radio Club">Crescenta Valley Radio Club</option>
	  <option value="Desert Rats Of Palm Springs">Desert Rats Of Palm Springs</option>
	  <option value="Desert Waves ARC ">Desert Waves ARC </option>
	  <option value="Downey ARC ">Downey ARC </option>
	  <option value="East Bay ARC ">East Bay ARC </option>
	  <option value="El Dorado County ARC ">El Dorado County ARC </option>
	  <option value="Escondido ARS">Escondido ARS</option>
	  <option value="Foothills ARS (Fars)">Foothills ARS (Fars)</option>
	  <option value="Fresno ARC ">Fresno ARC </option>
	  <option value="Fullerton Radio Club">Fullerton Radio Club</option>
	  <option value="Golden Empire ARS">Golden Empire ARS</option>
	  <option value="Golden Triangle ARC ">Golden Triangle ARC </option>
	  <option value="Hamilton Wireless Assn">Hamilton Wireless Assn</option>
	  <option value="Hermosa Beach ARA">Hermosa Beach ARA</option>
	  <option value="Hughes ARC ">Hughes ARC </option>
	  <option value="Humboldt ARC ">Humboldt ARC </option>
	  <option value="Inland Empire ARC ">Inland Empire ARC </option>
	  <option value="Kern County Central Valley ARC ">Kern County Central Valley ARC </option>
	  <option value="La Area Council Of ARC ">La Area Council Of ARC </option>
	  <option value="Lakeside ARC ">Lakeside ARC </option>
	  <option value="Lakewood ARC ">Lakewood ARC </option>
	  <option value="Lassen ARC ">Lassen ARC </option>
	  <option value="Livermore ARC ">Livermore ARC </option>
	  <option value="Lodi ARC ">Lodi ARC </option>
	  <option value="Los Angeles ARC ">Los Angeles ARC </option>
	  <option value="Madera County ARC">Madera County ARC</option>
	  <option value="Marin ARS">Marin ARS</option>
	  <option value="Martinez ARC ">Martinez ARC </option>
	  <option value="Menifee Valley ARC ">Menifee Valley ARC </option>
	  <option value="Monterey Bay ARA">Monterey Bay ARA</option>
	  <option value="Moreno Valley ARA">Moreno Valley ARA</option>
	  <option value="Morongo Basin ARC ">Morongo Basin ARC </option>
	  <option value="Mother Lode DX/Contest Club">Mother Lode DX/Contest Club</option>
	  <option value="Mount Diablo ARC ">Mount Diablo ARC </option>
	  <option value="Mount Shasta ARC ">Mount Shasta ARC </option>
	  <option value="Mountain ARC ">Mountain ARC </option>
	  <option value="Mountain Top ARA">Mountain Top ARA</option>
	  <option value="Naval Postgraduate School ARC ">Naval Postgraduate School ARC </option>
	  <option value="Nevada County ARC ">Nevada County ARC </option>
	  <option value="North Bay ARA">North Bay ARA</option>
	  <option value="North Hills Radio Club">North Hills Radio Club</option>
	  <option value="Northern California Dx Club">Northern California Dx Club</option>
	  <option value="Oakland Radio Communication Association">Oakland Radio Communication Association</option>
	  <option value="Orange County ARC ">Orange County ARC </option>
	  <option value="Oroville ARS">Oroville ARS</option>
	  <option value="Palo Alto ARA">Palo Alto ARA</option>
	  <option value="Palomar ARC ">Palomar ARC </option>
	  <option value="Palos Verdes ARC ">Palos Verdes ARC </option>
	  <option value="Paradise ARS">Paradise ARS</option>
	  <option value="Pasadena Radio Club">Pasadena Radio Club</option>
	  <option value="Paso Robles ARC ">Paso Robles ARC </option>
	  <option value="Pizza Lovers 259">Pizza Lovers 259</option>
	  <option value="Poway ARS">Poway ARS</option>
	  <option value="Redwood Empire DX Assn">Redwood Empire DX Assn</option>
	  <option value="Rio Hondo ARC ">Rio Hondo ARC </option>
	  <option value="Riverside County ARA">Riverside County ARA</option>
	  <option value="Samuel F Morse ARC ">Samuel F Morse ARC </option>
	  <option value="San Benito County ARA">San Benito County ARA</option>
	  <option value="San Diego DX Club">San Diego DX Club</option>
	  <option value="San Fernando Valley ARC ">San Fernando Valley ARC </option>
	  <option value="San Francisco ARC ">San Francisco ARC </option>
	  <option value="San Gabriel Valley RC">San Gabriel Valley RC</option>
	  <option value="San Joaquin Valley ARS">San Joaquin Valley ARS</option>
	  <option value="San Lorenzo Valley ARC ">San Lorenzo Valley ARC </option>
	  <option value="San Mateo Radio Club">San Mateo Radio Club</option>
	  <option value="Santa Barbara ARC ">Santa Barbara ARC </option>
	  <option value="Santa Clara County ARA">Santa Clara County ARA</option>
	  <option value="Santa Clarita ARC ">Santa Clarita ARC </option>
	  <option value="Santa Cruz County ARC ">Santa Cruz County ARC </option>
	  <option value="Saratoga ARA">Saratoga ARA</option>
	  <option value="Sierra ARC Of The High Mojave">Sierra ARC Of The High Mojave</option>
	  <option value="Sierra Foothills ARC ">Sierra Foothills ARC </option>
	  <option value="Silverado ARS">Silverado ARS</option>
	  <option value="Siskiyou County ARA">Siskiyou County ARA</option>
	  <option value="South Bay ARA">South Bay ARA</option>
	  <option value="South Bay ARS">South Bay ARS</option>
	  <option value="South Bay ARC ">South Bay ARC </option>
	  <option value="South Orange ARA">South Orange ARA</option>
	  <option value="Southern California Contest Club">Southern California Contest Club</option>
	  <option value="Southern California DX Club">Southern California DX Club</option>
	  <option value="Southern Humboldt ARC ">Southern Humboldt ARC </option>
	  <option value="Stanislaus ARA">Stanislaus ARA</option>
	  <option value="Stockton-Delta ARC ">Stockton-Delta ARC </option>
	  <option value="Tehachapi ARA">Tehachapi ARA</option>
	  <option value="Tri-County ARA">Tri-County ARA</option>
	  <option value="Tulare County ARC ">Tulare County ARC </option>
	  <option value="United Radio Amateur Club">United Radio Amateur Club</option>
	  <option value="Vaca Valley Radio Club">Vaca Valley Radio Club</option>
	  <option value="Valley Of The Moon ARC">Valley Of The Moon ARC</option>
	  <option value="Ventura County ARC">Ventura County ARC</option>
	  <option value="West Mesa DX And Contest Club">West Mesa DX And Contest Club</option>
	  <option value="West Valley ARC ">West Valley ARC </option>
	  <option value="Western Placer ARC ">Western Placer ARC </option>
	  <option value="Westside ARC ">Westside ARC </option>
	  <option value="Yucaipa Valley ARC ">Yucaipa Valley ARC </option>
	</select>
	<label for="clubsizeId" class="inLabelCat">Category:</label>
	<select name="clubsize" id="clubsizeId" class="jForm">
	  <option value="" selected="selected">&nbsp;</option>
	  <option value="Small">Small (best 10 logs)</option>
	  <option value="Medium" >Medium (best 35 logs)</option>
	  <option value="Large">Large (unlimited)</option>
	</select><br >
	<label for="otherclubnameId" class="inLabel">Other Club:</label>
	<input type="text" name="otherclubname" id="otherclubnameId" class="jForm">
	<p><b>Categories</b> (check all that apply)</p>
	<table>
	  <tr>
            <td class="catCol">
              <label>
		<input type="checkbox" name="expedition" value="County Expedition" id="expedition" class="jForm">
		County Expedition</label>
	    </td>
	    <td class="catCol" >
              <label>
		<input type="checkbox" name="youth" value="Youth" id="youth" class="jForm">
		Youth (under 18)</label>
            </td>
            <td class="catCol" >
              <label>
		<input type="checkbox" name="mobile" value="Mobile" id="mobile" class="jForm">
		Mobile Operation</label>
            </td>
	  </tr>
	  <tr>
            <td class="catCol">
              <label>
		<input type="checkbox" name="female" value="YL" id="yl" class="jForm">
		YL</label>
            </td>
            <td class="catCol">
              <label>
		<input type="checkbox" name="school" value="School" id="school" class="jForm">
		School</label>
            </td>
            <td class="catCol">
              <label>
		<input type="checkbox" name="new" value="New Contester" id="newcontester" class="jForm">
		New Contester</label>
            </td>
	  </tr>
	</table>
	<label for="commentId">Comments:</label><br>
	<textarea name="comments" id="commentId" cols="80" 
		  rows="5" class="jForm"></textarea><br>
        <input type="submit" id="submit" class="jForm cqpbutton" value="Submit Details">
	<p>* Indicates <strong>required</strong> fields.
      </form>
    </div>
    <div id="doneMsg" style="visibility: hidden;"><p><strong class="UploadDone">Upload Completed!</strong></p></div>
    <div id="reminder" >
      <p>PLEASE NOTE: you should receive a brief confirmation of your log via email, and it is your responsibility to verify that your
	log has been received by checking the <a href="server/received.fcgi">CQP Logs Received page</a>.
      </p>
    </div>
  </div>
  <div id="tabs-2">
    <div id="step-1a">
      <p>Uploading a CQP Cabrillo file is as easy as 1, 2, 3.  Please complete all three steps to complete
	your contest entry. If the 3 step process does not work, try this 
	<a href="logsubmit-nojs.html">one step form</a>.</p>
      <h1>Step 1: Cut-n-paste Cabrillo file</h1>
      <form id="cutnpaste" action="server/upload.fcgi" method="post" accept-charset="UTF-8">
	<label for="cabcontentId">Paste your log here:</label><br>
	<textarea name="cabcontent" id="cabcontentId" cols="100" wrap="soft"
		  rows="5" ></textarea><br>
	<input type="submit" id="cabsubmit" class="cqpbutton" value="Submit Log">
      </form>
    </div>
    <div id="step-2a">
      <h1>Step 2: Review Cabrillo file</h1>
      <p>
We're tried to provide some feedback on your log in case there are
errors. If the number of Readable QSO lines is close to the Total QSO lines and
the number of Multiplier errors is low, you can probably ignore any 
warnings or error messages below. If the number of readable QSOs is low or the
number of multiplier errors is high, you may want to try to edit your log and
resubmit. Examples of the preferred QSO line syntax are available 
<a href="qso_syntax.html">here</a>. In any case, we will do our best to fairly score every log.</p>
<p>To upload again, use the "Clear &amp; Reload" button. Otherwise, move on to Step 3.</p>
      <div class="circle" id="AltcircleId"></div>
      <div class="QSOSummCol">
        <table class="QSOSummary">
	  <caption class="QSOSumCap">Summary Statistics</caption>
	  <tr class="QSOSumLine"><th class="QSOSumHead">Total QSO lines:</th><td class="QSOSumData" id="AltmaxQSOId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead">Readable QSOs:</th><td class="QSOSumData" id="AltvalidQSOId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead"># Errors:</th><td class="QSOSumData" id="AltnumErrorsId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead"># Warnings:</th><td class="QSOSumData" id="AltnumWarningsId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead">Multiplier errors:</th><td class="QSOSumData" id="AltnumMultErrorsId">&nbsp;</td></tr>
	  <tr class="QSOSumLine"><th class="QSOSumHead">Multiplier aliases:</th><td class="QSOSumData" id="AltnumMultAliasesId">&nbsp;</td></tr>
	</table>
	<input id="AltReloadID" type="button" name="Reupload" class="cqpbutton" value="Clear &amp; Reupload">
      </div>
      <div class="QSOReport"><h2>Error &amp; Warnings</h2><div id="AltQSOErrorsID"></div></div>
      <div class="QSOReport"><h2>Multiplier Issues</h2><div id="AltMultErrorsID"></div></div>
      <div class="QCallReport"><h2>Irregular Callsigns</h2><div id="AltCallErrorsID"></div></div>
      <div class="clear"></div>
    </div>
    <div id="step-3a">
      <h1>Step 3: Provide Supplemental information</h1>
      <form action="server/upload.fcgi" method="post" id="AltsupplementalForm"  accept-charset="UTF-8">
	<input type="hidden" name="logID" value="-1" id="AltlogDBId" class="jForma">
	<input type="hidden" name="source" value="form2">
	<label for="AltcallsignId" class="inLabel">Callsign*:</label>
	<input type="text" name="callsign" value="" id="AltcallsignId" class="jForma"><br >
	<label for="AltemailId" class="inLabel">Email*:</label>
	<input type="email" name="email" id="AltemailId" class="jForma"><br>
	<label for="AltconfirmId" class="inLabel">Confirm Email*:</label>
	<input type="email" name="confirm" id="AltconfirmId" class="jForma"><br >
	<label for="AltphoneId" class="inLabel">Phone Number:</label>
	<input type="text" name="phone" id="AltphoneId" class="jForma"><br >
	<label for="AltsentQTHId" class="inLabel">Sent QTH:</label>
	<input type="text" name="sentQTH" id="AltsentQTHId" class="jForma"><br >
	<label for="AltopclassId" class="inLabel">Entry class:</label>
	<select name="opclass" id="AltopclassId" class="jForma">
	  <option value="single">Single-op</option>
	  <option value="single-assisted">Single-op-assisted</option>
	  <option value="multi-single">Multi-single</option>
	  <option value="multi-multi" selected="selected">Multi-multi</option>
	  <option value="checklog" >Checklog</option>
	</select>
	<select name="power" id="AltpowerId" class="jForma">
	  <option value="Low">Low Power</option>
	  <option value="High" selected="selected">High Power</option>
	  <option value="QRP">QRP</option>
	</select>
	<span id="AltopmsgId" style="color: red"></span><br >
	<label for="AltclubnameId" class="inLabel">Club:</label>
	<select name="clubname" id="AltclubnameId" class="jForma">
	  <option value="NONE" selected="selected">&nbsp;</option>
	  <option value="OTHER">OTHER (enter name below)</option>
	  <option value="Amador County ARC">Amador County ARC</option>
	  <option value="Amateur Radio Association Of Central Cal">Amateur Radio Association Of Central Cal</option>
	  <option value="Amateur Radio Club Of Alameda">Amateur Radio Club Of Alameda</option>
	  <option value="Anaheim ARA">Anaheim ARA</option>
	  <option value="Anchor Bay ARC ">Anchor Bay ARC </option>
	  <option value="Antelope Valley ARC">Antelope Valley ARC</option>
	  <option value="Univ Of CA Santa Barbara ARC">Univ Of CA Santa Barbara ARC</option>
	  <option value="Amateur Radio Club Of El Cajon">Amateur Radio Club Of El Cajon</option>
	  <option value="Associated Radio Amateurs Of Long Beach">Associated Radio Amateurs Of Long Beach</option>
	  <option value="Baldwin Hills ARC ">Baldwin Hills ARC </option>
	  <option value="Barstow ARC">Barstow ARC</option>
	  <option value="Benicia ARC">Benicia ARC</option>
	  <option value="Big Bear ARC ">Big Bear ARC </option>
	  <option value="Bishop ARC ">Bishop ARC </option>
	  <option value="Calaveras ARS">Calaveras ARS</option>
	  <option value="Calexico ARS">Calexico ARS</option>
	  <option value="Calif State Polytechnic Univ">Calif State Polytechnic Univ</option>
	  <option value="Central California DX Club">Central California DX Club</option>
	  <option value="Central Valley Radio Club">Central Valley Radio Club</option>
	  <option value="Citrus Belt ARC ">Citrus Belt ARC </option>
	  <option value="Clovis Amateur Radio Pioneers">Clovis Amateur Radio Pioneers</option>
	  <option value="Coachella Valley ARC ">Coachella Valley ARC </option>
	  <option value="Crescenta Valley Radio Club">Crescenta Valley Radio Club</option>
	  <option value="Desert Rats Of Palm Springs">Desert Rats Of Palm Springs</option>
	  <option value="Desert Waves ARC ">Desert Waves ARC </option>
	  <option value="Downey ARC ">Downey ARC </option>
	  <option value="East Bay ARC ">East Bay ARC </option>
	  <option value="El Dorado County ARC ">El Dorado County ARC </option>
	  <option value="Escondido ARS">Escondido ARS</option>
	  <option value="Foothills ARS (Fars)">Foothills ARS (Fars)</option>
	  <option value="Fresno ARC ">Fresno ARC </option>
	  <option value="Fullerton Radio Club">Fullerton Radio Club</option>
	  <option value="Golden Empire ARS">Golden Empire ARS</option>
	  <option value="Golden Triangle ARC ">Golden Triangle ARC </option>
	  <option value="Hamilton Wireless Assn">Hamilton Wireless Assn</option>
	  <option value="Hermosa Beach ARA">Hermosa Beach ARA</option>
	  <option value="Hughes ARC ">Hughes ARC </option>
	  <option value="Humboldt ARC ">Humboldt ARC </option>
	  <option value="Inland Empire ARC ">Inland Empire ARC </option>
	  <option value="Kern County Central Valley ARC ">Kern County Central Valley ARC </option>
	  <option value="La Area Council Of ARC ">La Area Council Of ARC </option>
	  <option value="Lakeside ARC ">Lakeside ARC </option>
	  <option value="Lakewood ARC ">Lakewood ARC </option>
	  <option value="Lassen ARC ">Lassen ARC </option>
	  <option value="Livermore ARC ">Livermore ARC </option>
	  <option value="Lodi ARC ">Lodi ARC </option>
	  <option value="Los Angeles ARC ">Los Angeles ARC </option>
	  <option value="Madera County ARC">Madera County ARC</option>
	  <option value="Marin ARS">Marin ARS</option>
	  <option value="Martinez ARC ">Martinez ARC </option>
	  <option value="Menifee Valley ARC ">Menifee Valley ARC </option>
	  <option value="Monterey Bay ARA">Monterey Bay ARA</option>
	  <option value="Moreno Valley ARA">Moreno Valley ARA</option>
	  <option value="Morongo Basin ARC ">Morongo Basin ARC </option>
	  <option value="Mother Lode DX/Contest Club">Mother Lode DX/Contest Club</option>
	  <option value="Mount Diablo ARC ">Mount Diablo ARC </option>
	  <option value="Mount Shasta ARC ">Mount Shasta ARC </option>
	  <option value="Mountain ARC ">Mountain ARC </option>
	  <option value="Mountain Top ARA">Mountain Top ARA</option>
	  <option value="Naval Postgraduate School ARC ">Naval Postgraduate School ARC </option>
	  <option value="Nevada County ARC ">Nevada County ARC </option>
	  <option value="North Bay ARA">North Bay ARA</option>
	  <option value="North Hills Radio Club">North Hills Radio Club</option>
	  <option value="Northern California Dx Club">Northern California Dx Club</option>
	  <option value="Oakland Radio Communication Association">Oakland Radio Communication Association</option>
	  <option value="Orange County ARC ">Orange County ARC </option>
	  <option value="Oroville ARS">Oroville ARS</option>
	  <option value="Palo Alto ARA">Palo Alto ARA</option>
	  <option value="Palomar ARC ">Palomar ARC </option>
	  <option value="Palos Verdes ARC ">Palos Verdes ARC </option>
	  <option value="Paradise ARS">Paradise ARS</option>
	  <option value="Pasadena Radio Club">Pasadena Radio Club</option>
	  <option value="Paso Robles ARC ">Paso Robles ARC </option>
	  <option value="Pizza Lovers 259">Pizza Lovers 259</option>
	  <option value="Poway ARS">Poway ARS</option>
	  <option value="Redwood Empire DX Assn">Redwood Empire DX Assn</option>
	  <option value="Rio Hondo ARC ">Rio Hondo ARC </option>
	  <option value="Riverside County ARA">Riverside County ARA</option>
	  <option value="Samuel F Morse ARC ">Samuel F Morse ARC </option>
	  <option value="San Benito County ARA">San Benito County ARA</option>
	  <option value="San Diego DX Club">San Diego DX Club</option>
	  <option value="San Fernando Valley ARC ">San Fernando Valley ARC </option>
	  <option value="San Francisco ARC ">San Francisco ARC </option>
	  <option value="San Gabriel Valley RC">San Gabriel Valley RC</option>
	  <option value="San Joaquin Valley ARS">San Joaquin Valley ARS</option>
	  <option value="San Lorenzo Valley ARC ">San Lorenzo Valley ARC </option>
	  <option value="San Mateo Radio Club">San Mateo Radio Club</option>
	  <option value="Santa Barbara ARC ">Santa Barbara ARC </option>
	  <option value="Santa Clara County ARA">Santa Clara County ARA</option>
	  <option value="Santa Clarita ARC ">Santa Clarita ARC </option>
	  <option value="Santa Cruz County ARC ">Santa Cruz County ARC </option>
	  <option value="Saratoga ARA">Saratoga ARA</option>
	  <option value="Sierra ARC Of The High Mojave">Sierra ARC Of The High Mojave</option>
	  <option value="Sierra Foothills ARC ">Sierra Foothills ARC </option>
	  <option value="Silverado ARS">Silverado ARS</option>
	  <option value="Siskiyou County ARA">Siskiyou County ARA</option>
	  <option value="South Bay ARA">South Bay ARA</option>
	  <option value="South Bay ARS">South Bay ARS</option>
	  <option value="South Bay ARC ">South Bay ARC </option>
	  <option value="South Orange ARA">South Orange ARA</option>
	  <option value="Southern California Contest Club">Southern California Contest Club</option>
	  <option value="Southern California DX Club">Southern California DX Club</option>
	  <option value="Southern Humboldt ARC ">Southern Humboldt ARC </option>
	  <option value="Stanislaus ARA">Stanislaus ARA</option>
	  <option value="Stockton-Delta ARC ">Stockton-Delta ARC </option>
	  <option value="Tehachapi ARA">Tehachapi ARA</option>
	  <option value="Tri-County ARA">Tri-County ARA</option>
	  <option value="Tulare County ARC ">Tulare County ARC </option>
	  <option value="United Radio Amateur Club">United Radio Amateur Club</option>
	  <option value="Vaca Valley Radio Club">Vaca Valley Radio Club</option>
	  <option value="Valley Of The Moon ARC">Valley Of The Moon ARC</option>
	  <option value="Ventura County ARC">Ventura County ARC</option>
	  <option value="West Mesa DX And Contest Club">West Mesa DX And Contest Club</option>
	  <option value="West Valley ARC ">West Valley ARC </option>
	  <option value="Western Placer ARC ">Western Placer ARC </option>
	  <option value="Westside ARC ">Westside ARC </option>
	  <option value="Yucaipa Valley ARC ">Yucaipa Valley ARC </option>
	</select>
	<label for="AltclubsizeId" class="inLabelCat">Category:</label>
	<select name="clubsize" id="AltclubsizeId" class="jForma">
	  <option value="" selected="selected">&nbsp;</option>
	  <option value="Small">Small (best 10 logs)</option>
	  <option value="Medium" >Medium (best 35 logs)</option>
	  <option value="Large">Large (unlimited)</option>
	</select><br >
	<label for="AltotherclubnameId" class="inLabel">Other Club:</label>
	<input type="text" name="otherclubname" id="AltotherclubnameId" class="jForma">
	<p><b>Categories</b> (check all that apply)</p>
	<table>
	  <tr>
            <td class="catCol">
              <label>
		<input type="checkbox" name="expedition" value="County Expedition" id="Altexpedition" class="jForma">
		County Expedition</label>
	    </td>
	    <td class="catCol" >
              <label>
		<input type="checkbox" name="youth" value="Youth" id="Altyouth" class="jForma">
		Youth (under 18)</label>
            </td>
            <td class="catCol" >
              <label>
		<input type="checkbox" name="mobile" value="Mobile" id="Altmobile" class="jForma">
		Mobile Operation</label>
            </td>
	  </tr>
	  <tr>
            <td class="catCol">
              <label>
		<input type="checkbox" name="female" value="YL" id="Altyl" class="jForma">
		YL</label>
            </td>
            <td class="catCol">
              <label>
		<input type="checkbox" name="school" value="School" id="Altschool" class="jForma">
		School</label>
            </td>
            <td class="catCol">
              <label>
		<input type="checkbox" name="new" value="New Contester" id="Altnewcontester" class="jForma">
		New Contester</label>
            </td>
	  </tr>
	</table>
	<label for="AltcommentId">Comments:</label><br>
	<textarea name="comments" id="AltcommentId" cols="80"
		  rows="5" class="jForma"></textarea><br>
        <input type="submit" id="Altsubmit" class="jForma cqpbutton" value="Submit Details">
	<p>* Indicates <strong>required</strong> fields.
      </form>
    </div>
    <div id="AltdoneMsg" style="visibility: hidden;"><p><strong class="UploadDone">Upload Completed!</strong></p></div>
    <div id="Altreminder" >
      <p>PLEASE NOTE: you should receive a brief confirmation of your log via email, and it is your responsibility to verify that your
	log has been received by checking the <a href="server/received.fcgi">CQP Logs Received page</a>.
      </p>
    </div>
  </div>
</div>

<div id="AllInOne"> 
  <h1>Upload your CQP Load</h1>
<p>If this form does not work, try this <a href="logsubmit-nojs.html">form without Javascript</a>.</p>
  <form id="OneForm" action="server/upload.fcgi" method="post" accept-charset="UTF-8">
    <label for="ALLcabcontentId">Paste your log here:</label><br>
    <textarea name="cabcontent" id="ALLcabcontentId" cols="100" wrap="soft"
	      rows="5" ></textarea><br>
    <input type="hidden" name="logID" value="-1" id="ALLlogDBId" class="jFormb">
    <input type="hidden" name="source" value="form3">
    <label for="ALLcallsignId" class="inLabel">Callsign*:</label>
    <input type="text" name="callsign" value="" id="ALLcallsignId" class="jFormb"><br >
    <label for="ALLemailId" class="inLabel">Email*:</label>
    <input type="email" name="email" id="ALLemailId" class="jFormb"><br>
    <label for="ALLconfirmId" class="inLabel">Confirm Email*:</label>
    <input type="email" name="confirm" id="ALLconfirmId" class="jFormb"><br >
    <label for="ALLphoneId" class="inLabel">Phone Number:</label>
    <input type="text" name="phone" id="ALLphoneId" class="jFormb"><br >
    <label for="ALLsentQTHId" class="inLabel">Sent QTH:</label>
    <input type="text" name="sentQTH" id="ALLsentQTHId" class="jFormb"><br >
    <label for="ALLopclassId" class="inLabel">Entry class:</label>
    <select name="opclass" id="ALLopclassId" class="jFormb">
      <option value="single">Single-op</option>
      <option value="single-assisted">Single-op-assisted</option>
      <option value="multi-single">Multi-single</option>
      <option value="multi-multi" selected="selected">Multi-multi</option>
      <option value="checklog" >Checklog</option>
    </select>
    <select name="power" id="ALLpowerId" class="jFormb">
      <option value="Low">Low Power</option>
      <option value="High" selected="selected">High Power</option>
      <option value="QRP">QRP</option>
    </select><br >
    <label for="ALLclubnameId" class="inLabel">Club:</label>
    <select name="clubname" id="ALLclubnameId" class="jFormb">
      <option value="NONE" selected="selected">&nbsp;</option>
      <option value="OTHER">OTHER (enter name below)</option>
      <option value="Amador County ARC">Amador County ARC</option>
      <option value="Amateur Radio Association Of Central Cal">Amateur Radio Association Of Central Cal</option>
      <option value="Amateur Radio Club Of Alameda">Amateur Radio Club Of Alameda</option>
      <option value="Anaheim ARA">Anaheim ARA</option>
      <option value="Anchor Bay ARC ">Anchor Bay ARC </option>
      <option value="Antelope Valley ARC">Antelope Valley ARC</option>
      <option value="Univ Of CA Santa Barbara ARC">Univ Of CA Santa Barbara ARC</option>
      <option value="Amateur Radio Club Of El Cajon">Amateur Radio Club Of El Cajon</option>
      <option value="Associated Radio Amateurs Of Long Beach">Associated Radio Amateurs Of Long Beach</option>
      <option value="Baldwin Hills ARC ">Baldwin Hills ARC </option>
      <option value="Barstow ARC">Barstow ARC</option>
      <option value="Benicia ARC">Benicia ARC</option>
      <option value="Big Bear ARC ">Big Bear ARC </option>
      <option value="Bishop ARC ">Bishop ARC </option>
      <option value="Calaveras ARS">Calaveras ARS</option>
      <option value="Calexico ARS">Calexico ARS</option>
      <option value="Calif State Polytechnic Univ">Calif State Polytechnic Univ</option>
      <option value="Central California DX Club">Central California DX Club</option>
      <option value="Central Valley Radio Club">Central Valley Radio Club</option>
      <option value="Citrus Belt ARC ">Citrus Belt ARC </option>
      <option value="Clovis Amateur Radio Pioneers">Clovis Amateur Radio Pioneers</option>
      <option value="Coachella Valley ARC ">Coachella Valley ARC </option>
      <option value="Crescenta Valley Radio Club">Crescenta Valley Radio Club</option>
      <option value="Desert Rats Of Palm Springs">Desert Rats Of Palm Springs</option>
      <option value="Desert Waves ARC ">Desert Waves ARC </option>
      <option value="Downey ARC ">Downey ARC </option>
      <option value="East Bay ARC ">East Bay ARC </option>
      <option value="El Dorado County ARC ">El Dorado County ARC </option>
      <option value="Escondido ARS">Escondido ARS</option>
      <option value="Foothills ARS (Fars)">Foothills ARS (Fars)</option>
      <option value="Fresno ARC ">Fresno ARC </option>
      <option value="Fullerton Radio Club">Fullerton Radio Club</option>
      <option value="Golden Empire ARS">Golden Empire ARS</option>
      <option value="Golden Triangle ARC ">Golden Triangle ARC </option>
      <option value="Hamilton Wireless Assn">Hamilton Wireless Assn</option>
      <option value="Hermosa Beach ARA">Hermosa Beach ARA</option>
      <option value="Hughes ARC ">Hughes ARC </option>
      <option value="Humboldt ARC ">Humboldt ARC </option>
      <option value="Inland Empire ARC ">Inland Empire ARC </option>
      <option value="Kern County Central Valley ARC ">Kern County Central Valley ARC </option>
      <option value="La Area Council Of ARC ">La Area Council Of ARC </option>
      <option value="Lakeside ARC ">Lakeside ARC </option>
      <option value="Lakewood ARC ">Lakewood ARC </option>
      <option value="Lassen ARC ">Lassen ARC </option>
      <option value="Livermore ARC ">Livermore ARC </option>
      <option value="Lodi ARC ">Lodi ARC </option>
      <option value="Los Angeles ARC ">Los Angeles ARC </option>
      <option value="Madera County ARC">Madera County ARC</option>
      <option value="Marin ARS">Marin ARS</option>
      <option value="Martinez ARC ">Martinez ARC </option>
      <option value="Menifee Valley ARC ">Menifee Valley ARC </option>
      <option value="Monterey Bay ARA">Monterey Bay ARA</option>
      <option value="Moreno Valley ARA">Moreno Valley ARA</option>
      <option value="Morongo Basin ARC ">Morongo Basin ARC </option>
      <option value="Mother Lode DX/Contest Club">Mother Lode DX/Contest Club</option>
      <option value="Mount Diablo ARC ">Mount Diablo ARC </option>
      <option value="Mount Shasta ARC ">Mount Shasta ARC </option>
      <option value="Mountain ARC ">Mountain ARC </option>
      <option value="Mountain Top ARA">Mountain Top ARA</option>
      <option value="Naval Postgraduate School ARC ">Naval Postgraduate School ARC </option>
      <option value="Nevada County ARC ">Nevada County ARC </option>
      <option value="North Bay ARA">North Bay ARA</option>
      <option value="North Hills Radio Club">North Hills Radio Club</option>
      <option value="Northern California Dx Club">Northern California Dx Club</option>
      <option value="Oakland Radio Communication Association">Oakland Radio Communication Association</option>
      <option value="Orange County ARC ">Orange County ARC </option>
      <option value="Oroville ARS">Oroville ARS</option>
      <option value="Palo Alto ARA">Palo Alto ARA</option>
      <option value="Palomar ARC ">Palomar ARC </option>
      <option value="Palos Verdes ARC ">Palos Verdes ARC </option>
      <option value="Paradise ARS">Paradise ARS</option>
      <option value="Pasadena Radio Club">Pasadena Radio Club</option>
      <option value="Paso Robles ARC ">Paso Robles ARC </option>
      <option value="Pizza Lovers 259">Pizza Lovers 259</option>
      <option value="Poway ARS">Poway ARS</option>
      <option value="Redwood Empire DX Assn">Redwood Empire DX Assn</option>
      <option value="Rio Hondo ARC ">Rio Hondo ARC </option>
      <option value="Riverside County ARA">Riverside County ARA</option>
      <option value="Samuel F Morse ARC ">Samuel F Morse ARC </option>
      <option value="San Benito County ARA">San Benito County ARA</option>
      <option value="San Diego DX Club">San Diego DX Club</option>
      <option value="San Fernando Valley ARC ">San Fernando Valley ARC </option>
      <option value="San Francisco ARC ">San Francisco ARC </option>
      <option value="San Gabriel Valley RC">San Gabriel Valley RC</option>
      <option value="San Joaquin Valley ARS">San Joaquin Valley ARS</option>
      <option value="San Lorenzo Valley ARC ">San Lorenzo Valley ARC </option>
      <option value="San Mateo Radio Club">San Mateo Radio Club</option>
      <option value="Santa Barbara ARC ">Santa Barbara ARC </option>
      <option value="Santa Clara County ARA">Santa Clara County ARA</option>
      <option value="Santa Clarita ARC ">Santa Clarita ARC </option>
      <option value="Santa Cruz County ARC ">Santa Cruz County ARC </option>
      <option value="Saratoga ARA">Saratoga ARA</option>
      <option value="Sierra ARC Of The High Mojave">Sierra ARC Of The High Mojave</option>
      <option value="Sierra Foothills ARC ">Sierra Foothills ARC </option>
      <option value="Silverado ARS">Silverado ARS</option>
      <option value="Siskiyou County ARA">Siskiyou County ARA</option>
      <option value="South Bay ARA">South Bay ARA</option>
      <option value="South Bay ARS">South Bay ARS</option>
      <option value="South Bay ARC ">South Bay ARC </option>
      <option value="South Orange ARA">South Orange ARA</option>
      <option value="Southern California Contest Club">Southern California Contest Club</option>
      <option value="Southern California DX Club">Southern California DX Club</option>
      <option value="Southern Humboldt ARC ">Southern Humboldt ARC </option>
      <option value="Stanislaus ARA">Stanislaus ARA</option>
      <option value="Stockton-Delta ARC ">Stockton-Delta ARC </option>
      <option value="Tehachapi ARA">Tehachapi ARA</option>
      <option value="Tri-County ARA">Tri-County ARA</option>
      <option value="Tulare County ARC ">Tulare County ARC </option>
      <option value="United Radio Amateur Club">United Radio Amateur Club</option>
      <option value="Vaca Valley Radio Club">Vaca Valley Radio Club</option>
      <option value="Valley Of The Moon ARC">Valley Of The Moon ARC</option>
      <option value="Ventura County ARC">Ventura County ARC</option>
      <option value="West Mesa DX And Contest Club">West Mesa DX And Contest Club</option>
      <option value="West Valley ARC ">West Valley ARC </option>
      <option value="Western Placer ARC ">Western Placer ARC </option>
      <option value="Westside ARC ">Westside ARC </option>
      <option value="Yucaipa Valley ARC ">Yucaipa Valley ARC </option>
    </select>
    <label for="ALLclubsizeId" class="inLabelCat">Category:</label>
    <select name="clubsize" id="ALLclubsizeId" class="jFormb">
      <option value="" selected="selected">&nbsp;</option>
      <option value="Small">Small</option>
      <option value="Medium" >Medium</option>
      <option value="Large">Large</option>
    </select><br >
    <label for="ALLotherclubnameId" class="inLabel">Other Club:</label>
    <input type="text" name="otherclubname" id="ALLotherclubnameId" class="jFormb">
    <p><b>Categories</b> (check all that apply)</p>
    <table>
      <tr>
        <td class="catCol">
          <label>
	    <input type="checkbox" name="expedition" value="County Expedition" id="ALLexpedition" class="jFormb">
	    County Expedition</label>
	</td>
	<td class="catCol" >
          <label>
	    <input type="checkbox" name="youth" value="Youth" id="ALLyouth" class="jFormb">
	    Youth (under 18)</label>
        </td>
        <td class="catCol" >
          <label>
	    <input type="checkbox" name="mobile" value="Mobile" id="ALLmobile" class="jFormb">
	    Mobile Operation</label>
        </td>
      </tr>
      <tr>
        <td class="catCol">
          <label>
	    <input type="checkbox" name="female" value="YL" id="ALLyl" class="jFormb">
	    YL</label>
        </td>
        <td class="catCol">
          <label>
	    <input type="checkbox" name="school" value="School" id="ALLschool" class="jFormb">
	    School</label>
        </td>
        <td class="catCol">
          <label>
	    <input type="checkbox" name="new" value="New Contester" id="ALLnewcontester" class="jFormb">
	    New Contester</label>
        </td>
      </tr>
    </table>
    <label for="ALLcommentId">Comments:</label><br>
    <textarea name="comments" id="ALLcommentId" cols="80"
	      rows="5" class="jFormb"></textarea><br>
    <input type="submit" id="ALLsubmit" class="jFormb">
    <input type="reset" id="ALLreset" value="Reset" class="jFormb">
    <p>* Indicates <strong>required</strong> fields.
  </form>
    <div id="ALLreminder" >
      <p>PLEASE NOTE: you should receive a brief confirmation of your log via email, and it is your responsibility to verify that your
	log has been received by checking the <a href="server/received.fcgi">CQP Logs Received page</a>.
      </p>
    </div>
</div>

 
<script  type="text/javascript">
<!--
function clearTabOne() {
  $("#logDBId").val("");
  $("#callsignId").val("");
  $("#emailId").val("");
  $("#confirmId").val("");
  $("#phoneId").val("");
  $("#sentQTHId").val("");
  $("#opclassId").val("multi-multi");
  $("#opmsgId").html("");
  $('#maxQSOId').html("&nbsp;");
  $('#validQSOId').html("&nbsp;");
  $('#numErrorsId').html("&nbsp;");
  $('#numWarningsId').html("&nbsp;");
  $('#numMultAliasesId').html("&nbsp;");
  $('#numMultErrorsId').html("&nbsp;");
  $('#CallErrorsID').text("");
  $('#MultErrorsID').text("");
  $('#QSOErrorsID').text("");
  $("#powerId").val("High");
  $("#commentId").val("");
  $("#expedition").prop("checked", false);
  $("#youth").prop("checked", false);
  $("#mobile").prop("checked", false);
  $("#yl").prop("checked", false);
  $("#school").prop("checked", false);
  $("#newcontester").prop("checked", false);
  $('#step-1').fadeTo(100, 1.0);
  $('#fileupload').fileupload("enable");
  $("#doneMsg").css("visibility", "hidden");
  $('#step-2').fadeTo(100, 0.4);
  $('.jForm').prop("disabled", true);
  $('#step-3').fadeTo(100, 0.4);
  $('#circleId').css('background-color', '#00ff00');
  $('#progress .progress-bar').css(
      'width', '0%' );
}

function clearTabTwo() {
  $("#AltlogDBId").val("");
  $("#AltcallsignId").val("");
  $("#AltemailId").val("");
  $("#AltconfirmId").val("");
  $("#AltphoneId").val("");
  $("#AltsentQTHId").val("");
  $("#AltopclassId").val("multi-multi");
  $("#AltopmsgId").html("");
  $('#AltmaxQSOId').html("&nbsp;");
  $('#AltvalidQSOId').html("&nbsp;");
  $('#AltnumErrorsId').html("&nbsp;");
  $('#AltnumWarningsId').html("&nbsp;");
  $('#AltnumMultAliasesId').html("&nbsp;");
  $('#AltnumMultErrorsId').html("&nbsp;");
  $('#AltCallErrorsID').text("");
  $('#AltMultErrorsID').text("");
  $('#AltQSOErrorsID').text("");
  $("#AlpowerId").val("High");
  $("#AltcommentId").val("");
  $("#Altexpedition").prop("checked", false);
  $("#Altyouth").prop("checked", false);
  $("#Altmobile").prop("checked", false);
  $("#Altyl").prop("checked", false);
  $("#Altschool").prop("checked", false);
  $("#Altnewcontester").prop("checked", false);
  $("#AltdoneMsg").css("visibility", "hidden");
  $('#AltcircleId').css('background-color', '#00ff00');
  $('#step-1a').fadeTo(100, 1.0);
  $('#fileupload').fileupload("enable");
  $('#step-2a').fadeTo(100, 0.4);
  $('.jForma').prop("disabled", true);
  $('#step-3a').fadeTo(100, 0.4);
  $('#cabcontentId').prop("disabled", false);
}



/**
 * Converts integer to a hexidecimal code, prepad's single 
 * digit hex codes with 0 to always return a two digit code. 
 * 
 * @param {Integer} i Integer to convert 
 * @returns {String} The hexidecimal code
 */
function intToHex(i) {
    var hex = parseInt(i,10).toString(16);
    return (hex.length < 2) ? "0" + hex : hex;
}   

/**
 * Return hex color from scalar *value*.
 *
 * @param {float} value Scalar value between 0 and 1
 * @return {String} color
 */
function makeColor(value) {
    // value must be between [0, 510]
    value = Math.min(Math.max(0,value), 1) * 510;
    var redValue;
    var greenValue;
    if (value < 255) {
        redValue = 255;
        greenValue = Math.sqrt(value) * 16;
        greenValue = Math.round(greenValue);
    } else {
        greenValue = 255;
        value = value - 255;
        redValue = 256 - (value * value / 255);
        redValue = Math.round(redValue);
    }
   return "#" + intToHex(redValue) + intToHex(greenValue) + "00";
}

var entityMap = {
   "&": "&amp;",
   "<": "&lt;",
   ">": "&gt;",
   '"': '&quot;',
   "'": '&#39;',
   "/": '&#x2F;'
};

function escapeHtml(string) {
  return String(string).replace(/[&<>"'\/]/g, function (s) {
    return entityMap[s];
  });
}

function calcColor(validQ, maxQ, badMults) {
   if (maxQ === 0) {
     return "#ff0000";
   }
   else {
     validQ = Math.max(0, validQ - badMults);
     percent = 4.0*validQ/maxQ - 3.0;
     return makeColor(percent);
   }
}
 
  $(function () {
    $('#clock').countdown('2017/10/23 23:59:59 +0000')
    .on('update.countdown', function(event) {
     var format = '%H hour%!H %M minute%!M %S second%!S';
     if(event.offset.totalDays > 0) {
      format = '%-d day%!d ' + format;
     }
     if(event.offset.weeks > 0) {
       format = '%-w week%!w ' + format;
     }
     $(this).html(event.strftime(format));
   })
  .on('finish.countdown', function(event) {
    $(this).html('past. Logs submitted now will be treated as checklogs.')
      .parent().addClass('disabled');
   });

    var urlval = "server/upload.fcgi";
    $('#tabs').show();
    $('#AllInOne').hide();
    $('#fileupload').fileupload({
        url: urlval,
        dataType: 'json',
        done: function (e, data) {
	    if (console) {
              console.log("Success 4");
              console.log(JSON.stringify(data.result));
            }
            $.each(data.result.files, function (index, file) {
                if (console) {
                  console.log("File name = " + file.name);
                  console.log("ID = " + file.id);
                }
                $('#logDBId').val(file.id);
            });
            if (data.result.callsign) {
              $('#callsignId').val(escapeHtml(data.result.callsign));
            }
            if (data.result.email) { 
              $('#emailId').val(escapeHtml(data.result.email));
            }
            if (data.result.SentQTH) {
              $('#sentQTHId').val(escapeHtml(data.result.SentQTH.join(" ")));
            }
            if (data.result.opclass) {
              $('#opclassId').val(escapeHtml(data.result.opclass));
            }
            if (data.result.opmsg) {
              $('#opmsgId').html(escapeHtml(data.result.opmsg));
            }
            if (data.result.power) {
              $('#powerId').val(escapeHtml(data.result.power));
            }
            if (data.result.categories) {
               $.each(data.result.categories, function (index, cat) {
                  $('#'.concat(cat)).prop("checked", true);
               });
            }
            if (!(typeof data.result.MaxQSO === 'undefined')) {
              $('#maxQSOId').text(data.result.MaxQSO.toString());
              if (0 === data.result.MaxQSO) {
                $('#circleId').css('background-color', "#ff0000");
              }
              else {
                if (!(typeof data.result.ParseableQSO === 'undefined')) {
		  var badMults;
		  if (data.result.multipliers.errors) {
		    badMults = data.result.multipliers.errors.length;
		  }
		  else {
		    badMults = 0;
                  }
                  $('#circleId').css('background-color', calcColor(data.result.ParseableQSO, data.result.MaxQSO, badMults));
                }
              }
            }
            else {
              $('#maxQSOId').html("&nbsp;");
            }
            if (!(typeof data.result.ParseableQSO === 'undefined')) {
              $('#validQSOId').text(data.result.ParseableQSO.toString());
            }
            else {
              $('#validQSOId').html("&nbsp;");
            }
            if (data.result.errors) { 
              $('#numErrorsId').text(data.result.errors.length.toString());
            }
            else {
              $('#numErrorsId').html("&nbsp;");
            }
            if (data.result.warnings) { 
              $('#numWarningsId').text(data.result.warnings.length.toString());
            }
            else {
              $('#numWarningsId').html("&nbsp;");
            }
            $('#numMultAliasesId').html("&nbsp;");
            if (data.result.multipliers) {
              if (data.result.multipliers.warnings) {
                $('#numMultAliasesId').text(data.result.multipliers.warnings.length.toString());
              }
              if (data.result.multipliers.errors) {
                $('#numMultErrorsId').text(data.result.multipliers.errors.length.toString());
              }
            }
            $('#CallErrorsID').text("");
            $('#MultErrorsID').text("");
            $('#QSOErrorsID').text("");
            if (data.result.badcallsigns) {
               $.each(data.result.badcallsigns, function (index, callsign) {
                  $('#CallErrorsID').append('<p class="badcall">' + escapeHtml(callsign) + "</p>\n");
               });
            }
            if (data.result.errors && data.result.errors.length > 0) {
               $('#QSOErrorsID').append('<p class="miniheading">Errors</p>' + "\n");
               $.each(data.result.errors, function (index, errval) {
                  $('#QSOErrorsID').append('<p class="logerr"><span class="linenum">' + 
                                            escapeHtml(errval.line.toString()) + ':</span> <span class="errmsg">' +
                                            escapeHtml(errval.msg) + "</span></p>\n");
               });
            }
            if (data.result.warnings && data.result.warnings.length > 0) {
               $('#QSOErrorsID').append('<p class="miniheading">Warnings</p>' + "\n");
               $.each(data.result.warnings, function (index, errval) {
                  $('#QSOErrorsID').append('<p class="logwarn"><span class="linenum">' + 
                                            escapeHtml(errval.line.toString()) + ':</span> <span class="errmsg">' +
                                            escapeHtml(errval.msg) + "</span></p>\n");
               });
            }
            if (data.result.multipliers) {
               if (data.result.multipliers.errors && data.result.multipliers.errors.length > 0) {
                 $('#MultErrorsID').append('<p class="miniheading">Unknown multipliers</p>' + "\n");
                 $.each(data.result.multipliers.errors, function (index, errval) {
                    $('#MultErrorsID').append('<p class="multerr">' + escapeHtml(errval) + "</p>\n");
                 });
               }
               if (data.result.multipliers.warnings && data.result.multipliers.warnings.length > 0) {
                 $('#MultErrorsID').append('<p class="miniheading">Multipliers remapped</p>' + "\n");
                 $.each(data.result.multipliers.warnings, function (index, errval) {
                    $('#MultErrorsID').append('<p class="multerr"><span class="multalias">' + escapeHtml(errval.log) +
                                             '</span> &rarr; <span class="multireal">' + 
					     escapeHtml(errval.real) + "</span></p>\n");
                 });
               }
            }
            $('#step-1').fadeTo(100, 0.4);
            $('#fileupload').fileupload("disable");
            $('#step-2').fadeTo(100, 1.0);
            $('.jForm').prop("disabled", false);
            $('#step-3').fadeTo(100, 1.0);
            if (console) {
               console.log("Done");
            }
        },
        progressall: function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('#progress .progress-bar').css(
                'width',
                progress + '%' );
        }
    }).prop('disabled', !$.support.fileInput).
        parent().addClass($.support.fileInput ? undefined :
       'disabled');
    clearTabOne();
    clearTabTwo();
    $( '#ReloadID' ).click( function () {
       if (console) {
         console.log("Click");
       }
       clearTabOne();
    });
    $( '#AltReloadID' ).click( function () {
       if (console) {
         console.log("Click");
       }
       clearTabTwo();
    });
    $( "#tabs" ).tabs({ active: 0});
    $( "#supplementalForm" ).validate({
       rules: {
         callsign: "required",
         email: "required",
         confirm: {
           equalTo: "#emailId"
         }
       }
     });
    $("#supplementalForm" ).submit(function(ev) {
      var urlval = "server/upload.fcgi";
      var checker = $('#supplementalForm').validate();
      if (checker.form()) {
        $.ajax({
            type: "POST",
            url : urlval,
            data: $("#supplementalForm").serialize(),
            success: function(data) {
               if (console) {
                 console.log("Success 3");
               }
               clearTabOne();
               $("#doneMsg").css("visibility", "visible");
            }
        });
      }
      ev.preventDefault();
    });
    $( "#AltsupplementalForm" ).validate({
       rules: {
         callsign: "required",
         email: "required",
         confirm: {
           equalTo: "#AltemailId"
         }
       }
     });
    $('#AltsupplementalForm').submit(function(ev) {
      var urlval = "server/upload.fcgi";
      var checker = $('#AltsupplementalForm').validate();
      if (checker.form()) {
        $.ajax({
            type: "POST",
            dataType: "json",
            url : urlval,
            data: $("#AltsupplementalForm").serialize(),
            success: function(data) {
               if (console) {
                 console.log("Success 2");
               }
               clearTabTwo();
               $("#AltdoneMsg").css("visibility", "visible");
            },
            error: function(xhr, tstatus, errthrn)  {
               if (console) {
                 console.log("Error 2");
                 console.log(xhr.responseText);
                 console.log(tstatus);
                 console.log(errthrn);
               }
            }
        });
      }
      ev.preventDefault();
    });

    $('#cutnpaste' ).submit(function(ev) {
      var urlval = "server/upload.fcgi";
      $.ajax({
          type: "POST",
          url : urlval,
          dataType: "json",
          data: $("#cutnpaste").serialize(),
          success: function(data) {
             if (console) {
               console.log(data);
             }
             if (data.files) {
               $.each(data.files, function (index, file) {
                  if (console) {
                    console.log("ID = " + file.id);
                  }
                  $('#AltlogDBId').val(file.id);
               });
             }
             else {
               if (console) {
                 console.log("Insufficient JSON");
               }
               return 1;
             }
             if (console) {
               console.log("Success 1");
             }
             $('#step-1a').fadeTo(100, 0.4);
             $('#cabcontentId').val("");
             $('#step-2a').fadeTo(100, 1.0);
             $('.jForma').prop("disabled", false);
             $('#step-3a').fadeTo(100, 1.0);
             if (data.callsign) {
               $('#AltcallsignId').val(escapeHtml(data.callsign));
             }
             if (data.email) { 
               $('#AltemailId').val(escapeHtml(data.email));
             }
             if (data.SentQTH) {
                $('#AltsentQTHId').val(escapeHtml(data.SentQTH.join(" ")));
             }
             if (data.opclass) {
               $('#AltopclassId').val(escapeHtml(data.opclass));
             }
             if (data.power) {
               $('#AltpowerId').val(escapeHtml(data.power));
             }
             if (data.opmsg) {
               $('#AltopmsgId').html(escapeHtml(data.opmsg));
             }
             if (data.categories) {
                $.each(data.categories, function (index, cat) {
                   $('#Alt'.concat(cat)).prop("checked", true);
                });
             }
             if (!(typeof data.MaxQSO === 'undefined')) {
               $('#AltmaxQSOId').text(data.MaxQSO.toString());
              if (0 === data.MaxQSO) {
                $('#AltcircleId').css('background-color', "#ff0000");
              }
              else {
                if (!(typeof data.ParseableQSO === 'undefined')) {
		  var badMults;
		  if (data.multipliers.errors) {
		    badMults = data.multipliers.errors.length;
		  }
		  else {
		    badMults = 0;
                  }
                  $('#AltcircleId').css('background-color', calcColor(data.ParseableQSO, data.MaxQSO, badMults));
                }
              }
             }
             else {
               $('#AltmaxQSOId').html("&nbsp;");
             }
             if (!(typeof data.ParseableQSO === 'undefined')) {
               $('#AltvalidQSOId').text(data.ParseableQSO);
             }
             else {
               $('#AltvalidQSOId').html("&nbsp;");
             }
             if (data.errors) { 
               $('#AltnumErrorsId').text(data.errors.length.toString());
             }
             else {
               $('#AltnumErrorsId').html("&nbsp;");
             }
             if (data.warnings) { 
               $('#AltnumWarningsId').text(data.warnings.length.toString());
             }
             else {
               $('#AltnumWarningsId').html("&nbsp;");
             }
             $('#AltnumMultAliasesId').html("&nbsp;");
             if (data.multipliers) {
               if (data.multipliers.warnings) {
                 $('#AltnumMultAliasesId').text(data.multipliers.warnings.length.toString());
               }
               if (data.multipliers.errors) {
                 $('#AltnumMultErrorsId').text(data.multipliers.errors.length.toString());
               }
             }
             $('#AltCallErrorsID').text("");
             $('#AltMultErrorsID').text("");
             $('#AltQSOErrorsID').text("");
             if (data.badcallsigns) {
                $.each(data.badcallsigns, function (index, callsign) {
                   $('#AltCallErrorsID').append('<p class="badcall">' + escapeHtml(callsign) + "</p>\n");
                });
             }
             if (data.errors && data.errors.length > 0) {
                 $('#AltQSOErrorsID').append('<p class="miniheading">Errors</p>' + "\n");
                 $.each(data.errors, function (index, errval) {
                   $('#AltQSOErrorsID').append('<p class="logerr"><span class="linenum">' + 
                                             escapeHtml(errval.line.toString()) + ':</span> <span class="errmsg">' +
                                             escapeHtml(errval.msg) + "</span></p>\n");
                });
             }
             if (data.warnings && data.warnings.length > 0) {
                 $('#AltQSOErrorsID').append('<p class="miniheading">Warnings</p>' + "\n");
                $.each(data.warnings, function (index, errval) {
                   $('#AltQSOErrorsID').append('<p class="logwarn"><span class="linenum">' + 
                                             escapeHtml(errval.line.toString()) + ':</span> <span class="errmsg">' +
                                             escapeHtml(errval.msg) + "</span></p>\n");
                });
             }
             if (data.multipliers) {
                if (data.multipliers.errors && data.multipliers.errors.length > 0) {
                  $('#AltMultErrorsID').append('<p class="miniheading">Unknown multipliers</p>' + "\n");
                  $.each(data.multipliers.errors, function (index, errval) {
                     $('#AltMultErrorsID').append('<p class="multerr">' + escapeHtml(errval) + "</p>\n");
                  });
                }
                if (data.multipliers.warnings && data.multipliers.warnings.length > 0) {
                  $('#AltMultErrorsID').append('<p class="miniheading">Multipliers remapped</p>' + "\n");
                  $.each(data.multipliers.warnings, function (index, errval) {
                     $('#AltMultErrorsID').append('<p class="multerr"><span class="multalias">' + escapeHtml(errval.log) +
                                              '</span> &rarr; <span class="multireal">' + 
					      escapeHtml(errval.real) + "</span></p>\n");
                  });
                }
             }
             $('#cabcontentId').prop("disabled", true);
             if (console) {
               console.log("Success 1 done");
             }
          },
          error: function(xhr, tstatus, errthrn)      {
             if (console) {
               console.log("Error 1");
               console.log(xhr.responseText);
               console.log(tstatus);
               console.log(errthrn);
             }
          }
      });
      ev.preventDefault();
    });
  });
// -->
</script>
</body>
</html>
